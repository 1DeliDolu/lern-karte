# 2.3.7 JSON-Dateien im- und exportieren und Webservices nutzen [Seite: 186]

**Kernaussage:** Softwarekomponenten tauschen Daten über **Schnittstellen** aus. Für Dateien haben sich **Standardformate** wie **CSV**, **XML** und besonders **JSON** etabliert. Neben Datei-Im/Export greifen Anwendungen über **Webservices** (typisch **REST**) per **HTTP** auf Datenquellen im Internet zu, meist mit **JSON** als Austauschformat. Ziel ist, JSON **einzulesen**, **zu erzeugen** und **REST-APIs** eigenständig zu **nutzen**.

## Grundlagen zu Datenschnittstellen und Formaten

* Daten fließen nach dem **EVA-Prinzip** über Schnittstellen in Komponenten hinein und wieder heraus.
* Dateien sind eine **basale Schnittstelle**; korrektes Arbeiten setzt Kenntnis des **Dateiformats** voraus.
* **JSON** ist heute das verbreitetste Austauschformat zwischen Anwendungen.

## (1) JSON-Dateien lesen und schreiben (Python)

* Python stellt das Standardpaket **`json`** bereit.
* **Serialisieren**: Python-Objekte (**Dictionary**, **Liste**, **Zahl**, **Text**) mit `json.dumps(...)` in **JSON** überführen und z. B. in Datei speichern.
* **Deserialisieren**: JSON aus Datei/Zeichenkette einlesen und zu Python-Objekten zurückwandeln.
* Ausführliche Referenz: Python-DOKU zum Modul **`json`**. 

## (1b) JSON im- und exportieren (Java)

* Java kann JSON mit externen Bibliotheken verarbeiten; beispielhaft **`javax.json`** (**Object-Model-API**).
* **Hinweis:** `javax.json` gehört **nicht** zum Standard-SDK und muss dem Projekt als Abhängigkeit hinzugefügt werden; Doku bei Oracle verfügbar. 

## (2) Webservices nutzen (REST)

* **REST** folgt einer **Client-Server-Architektur**; der Client sendet **HTTP-Anforderungen** an **öffentliche URLs**, der Server liefert **JSON-Daten** + **Statuscode** zurück.
* Wichtige **HTTP-Methoden**: **GET** (lesen), **POST** (erstellen/aktualisieren), **PUT** (erstellen/aktualisieren, **idempotent**), **DELETE** (löschen). Unterschied: **PUT** mehrfach aufgerufen → gleiches Ergebnis; **POST** kann mehrfach **neue** Ressourcen anlegen. 

### Python-Praxis: `requests` + JSON

* Zentrale Funktionen: **`get`**, **`post`**, **`put`**, **`delete`**; Antwort bequem mit **`.json()`** parsen.
* **Beispiel:** Abruf freier **Wetterdaten** via **OpenWeatherMap** – **API-Schlüssel** erforderlich, URL zusammenbauen, `requests.get(url).json()` auswerten; Ausgabe ggf. mit `json.dumps(..., indent=4)` formatieren. Anwendbar im Projekt **„Yachthafen Resort“**. 

### Weitere API-Beispiele

* REST-URL-Beispiel für **Google Maps** (Embed-API) zur Einordnung von Web-APIs. 

## Umsetzungsschritte (didaktisch)

1. **Datei-Im/Export**: JSON-Struktur kennen → in Python/Java **serialisieren/deserialisieren**.
2. **REST-Zugriff**: **Endpunkt**, **Methode**, **Parameter** (Query/Body), **Header**/**API-Key** klären.
3. **Antwort prüfen**: **Statuscode** auswerten, JSON **parsen**, **Fehlerfälle** behandeln.

## Kompetenzcheck (aus dem Abschnitt)

* Aussagen zu **Datei-Im/Export** und **Web-APIs** bewerten (u. a. „Import/Export über Dateien ist eine mögliche Datenschnittstelle“).
* Kleines Übungsprogramm: **Ort abfragen**, **Wetter-JSON** via REST laden, **ausgeben** und weiterverarbeiten. 

## Merkkasten – Schlüsselbegriffe

* **JSON**, **Serialisierung/Deserialisierung**, **REST**, **HTTP-Methode**, **GET/POST/PUT/DELETE**, **Statuscode**, **API**, **API-Schlüssel**, **`json` (Python)**, **`requests` (Python)**, **`javax.json` (Java)**.
