# 🧱 2.1.4 Den strukturellen Aufbau von cyber-physischen Systemen definieren [Seite: 91]

Dieser Abschnitt definiert den **Aufbau** von **cyber-physischen Systemen (CPS)** als vernetzte Kombination aus **mechanischen**, **elektrischen** und **informationstechnischen** Komponenten. Ein CPS erfasst Zustände seiner Umgebung, **verarbeitet** die Daten, **wirkt** über Aktoren auf die Umwelt zurück, **kommuniziert** über geeignete Protokolle – und kann Regelkreise sowie **Anpassungen** (Adaption) in Echtzeit ausführen. Zentrale Funktionen sind **Integration**, **Sensorik**, **Verarbeitung**, **Aktorik**, **Steuerung/Regelung**, **Vernetzung** und **Adaption**.  

| **Begriff:**           | **Definition (präzise Verdichtung)**                                                                                   |
| ---------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| **Integration**        | Vereint physische und virtuelle Welt in einem Objekt; **eindeutige Identifikation** im Netzwerk.                       |
| **Sensorik**           | Erfassung von Umweltgrößen (z. B. Temperatur, Feuchte, Licht, Bewegung, Druck) als Grundlage für Monitoring/Regelung.  |
| **Verarbeitung**       | **Mikrocontroller** (Ein-Chip-Systeme) verarbeiten Messdaten und steuern Abläufe.                                      |
| **Aktorik**            | Wirkt physisch auf die Umwelt (z. B. Motoren, Ventile, Zylinder).                                                      |
| **Steuerung/Regelung** | Dezentrale Entscheidungen; vom einfachen Raum-Temperaturregelkreis bis zur prozessweiten Rückkopplung.                 |
| **Vernetzung**         | Kommunikation CPS↔CPS, im Unternehmen, entlang der **Wertschöpfungskette** und mit Menschen.                           |
| **Adaption**           | Funktionsanpassung/Lernen aus Daten (z. B. Messintervall ändern, **Machine Learning**).                                |

## 🧩 Architektur-Bausteine (vom Signal zur Aktion)

* **1) Sensorik → Datenaufnahme**: Zustände wie **Temperatur**, **Luftfeuchte**, **CO₂**, **Licht**, **Bewegung**, **Druck** werden erfasst und im Netzwerk verfügbar gemacht – auch als **Retrofit** für bestehende Anlagen.  
* **2) Datenverarbeitung (µC/SBC)**: Mikrocontroller führen zyklische Programme für **spezifische Aufgaben** aus; Einplatinencomputer (**SBC**) bieten ein vollwertiges Betriebssystem und vielseitige Peripherie – geeignet für Regeln/Steuern ohne externen PC.  
* **3) Aktorik → Wirkung**: Antriebe/Ansteuerungen setzen Entscheidungen um (z. B. Heizen/Kühlen, Öffnen/Schließen). 
* **4) Steuerung & Regelung**: Vom **einfachen Regelkreis** (Soll-Ist-Vergleich) bis zur **Rückkopplung** über ganze Prozesse mit Mensch, Maschine, vorgelagerten/nachgelagerten Schritten, Produkt und Kunde.  
* **5) Vernetzung & Integration**: Kommunikation lokal und übergreifend (Shopfloor ↔ IT), inkl. **Echtzeit-Monitoring** und **Rückverfolgbarkeit**.  

## 🔌 Typische Hard- & Softwareplattformen

* **Mikrocontrollerboards (z. B. Arduino, ESP-Familie)**: **einfach zu programmieren**, geringe Leistungsaufnahme; ideal für dedizierte Steuer-/Erfassungsaufgaben. 
* **Einplatinencomputer (z. B. Raspberry Pi)**: vollwertiger **SBC** mit OS; Erweiterungen über USB; verbreitet in Ausbildung und Praxis. 

## 🧷 Schnittstellen zur Anbindung von Sensoren/Aktoren

* **GPIO**: universelle digitale Ein/Ausgänge (Pin-weise konfigurierbar). 
* **UART**: serielle Punkt-zu-Punkt-Kommunikation (Senden/Empfangen über dedizierte Leitungen). 
* **I²C**: **SDA/SCL**, synchron; bis **3,4 Mbit/s** (Highspeed); bis **128 Teilnehmer** (7-bit-Adressen), **112 frei** nutzbar. 
* **SPI**: **SCLK, MOSI, MISO, CS**; **vollduplex**, bis ~**20 Mbit/s**; ein Master, beliebig viele Slaves (durch **CS-Pins** begrenzt). 

## 🛠️ Beispiel: Minimaler CPS-Versuchsaufbau

* **ESP32-Board** + Sensoren (z. B. **DHT22**, **MH-Z19B**/**CO₂**) auf **Breadboard** → sendet Messwerte an **Server/Dashboard** (mobil abrufbar).  
* Erweiterung in der Praxis: Kopplung als **MQTT-Client** mit Broker (**Mosquitto**), Visualisierung/Logik mit **Node-RED**. 

## 🎯 Kernaussagen (kompakt)

1. **CPS-Struktur** = **Sensorik** → **Verarbeitung (µC/SBC)** → **Aktorik** → **Regelung** → **Vernetzung/Adaption** – mit eindeutiger Identität im Netzwerk. 
2. **Mikrocontroller** eignen sich für dedizierte, zyklische Aufgaben; **SBC** liefern OS-Komfort und breite Peripherie. 
3. **Standard-Schnittstellen** (**GPIO, UART, I²C, SPI**) sichern die **Interoperabilität** von Sensoren/Aktoren mit dem Rechenkern. 
4. Ein **ESP32-Basisaufbau** mit MQTT/Node-RED demonstriert die End-to-End-Kette von der Messung bis zum Dashboard.  
