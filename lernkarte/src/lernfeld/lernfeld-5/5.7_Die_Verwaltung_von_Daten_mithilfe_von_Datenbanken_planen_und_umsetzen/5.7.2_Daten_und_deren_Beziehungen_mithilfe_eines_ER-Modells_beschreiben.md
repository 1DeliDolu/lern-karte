# 🧩 5.7.2 Daten und deren Beziehungen mithilfe eines ER-Modells beschreiben [Seite: 577]

Das **Entity-Relationship-Modell (ER-Modell)** dient der **grafischen Darstellung von Daten und deren Beziehungen**. Es bildet die Grundlage für die **Planung, Analyse und den Entwurf von Datenbanken**. Ziel ist es, reale Informationen (z. B. über Personen, Objekte oder Prozesse) in eine **strukturierte und verständliche Form** zu bringen, um später eine Datenbank logisch aufbauen zu können.

---

## 🧠 Grundlagen des ER-Modells

Das ER-Modell wird während der **Datenanalyse-Phase** erstellt. Zuerst werden alle relevanten Informationen erhoben (z. B. über Arbeitsabläufe, Personen, Objekte), anschließend in **Entitäten, Attribute und Beziehungen** überführt.
Es wurde 1976 von **Peter Chen** entwickelt und ist heute der **De-facto-Standard** der Datenmodellierung.

---

## 🧱 (1) Entität und Entitätstypen

| Begriff              | Beschreibung                                                                                                                                    |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| **Entität (Entity)** | Ein einzelnes, eindeutig identifizierbares Objekt (z. B. *Herr Maier*).                                                                         |
| **Entitätstyp**      | Zusammenfassung gleichartiger Entitäten (z. B. *Person*). Eine Datenbank besteht aus vielen Entitäten, die jeweils einem Entitätstyp angehören. |

**Beispiele für Entitätstypen:**

* Person
* Firma
* Artikel

**Symbol im ER-Diagramm:** Rechteck mit Bezeichnung des Entitätstyps.

---

## 🔢 (2) Attribute

**Attribute** sind die **Eigenschaften einer Entität**. Sie beschreiben Merkmale wie Name, Geburtsdatum oder Kundennummer.

* Attribute werden **Ellipsen** zugeordnet, die mit dem Entitätstyp verbunden sind.
* Ein **eindeutiges Attribut** (z. B. *Kundennummer*) wird **unterstrichen** → es kennzeichnet den **Primärschlüssel**.
* Attribute können sowohl Entitätstypen als auch **Beziehungen** zugeordnet werden.

**Beispiel:**

> Entitätstyp: *Schüler*
> Attribute: *SchülerNr, Vorname, Nachname, Geburtsdatum*

| Attribut               | Bedeutung                        |
| ---------------------- | -------------------------------- |
| **SchülerNr**          | eindeutige Identifikationsnummer |
| **Vorname / Nachname** | persönliche Bezeichnung          |
| **Geburtsdatum**       | zusätzliches Merkmal             |

---

## 🔗 (3) Beziehungstyp

Eine **Beziehung (Relation)** stellt eine **semantische Verbindung** zwischen zwei (oder mehr) Entitätstypen dar.
Im ER-Modell wird sie durch eine **Raute (♦)** dargestellt und beschreibt, **wie Entitäten zueinander stehen**.

* Eine Beziehung kann **eigene Attribute** besitzen (z. B. *Rechnungsnummer, Betrag*).
* Beziehungen können **verschiedene Kardinalitäten** haben (siehe unten).

**Beispiele:**

* *Kunde – kauft – Artikel* (mit Attribut *RechnungsNr*)
* *Schüler – besucht – Klasse* (ohne Attribute)

| Symbol   | Beschreibung                 |
| -------- | ---------------------------- |
| ♦        | Beziehung zwischen Entitäten |
| Ellipse  | Attribut (Eigenschaft)       |
| Rechteck | Entitätstyp                  |

---

## 🔢 (4) Kardinalitäten

**Kardinalitäten** geben an, **in welchem Zahlenverhältnis Entitätstypen** miteinander in Beziehung stehen.
Sie bestimmen die **Art der Verknüpfung**:

| Kardinalität | Beschreibung                                                  | Beispiel                     |
| ------------ | ------------------------------------------------------------- | ---------------------------- |
| **1:1**      | Eine Entität ist genau einer anderen zugeordnet.              | *Mitarbeiter – Personalakte* |
| **1:n**      | Eine Entität kann mit mehreren anderen verknüpft sein.        | *Gebäude – Räume*            |
| **m:n**      | Mehrere Entitäten können mit mehreren anderen verknüpft sein. | *Kunde – Artikel*            |

Diese Angaben sind entscheidend, um im späteren **relationalen Modell** die **Tabellenbeziehungen** korrekt zu definieren.

---

## 🧮 (5) Beispiele für die Erstellung eines ER-Modells

### 🦁 Beispielauftrag 1 – Zoo-Datenbank

**Aufgabe:**
Für einen Zoo soll eine Datenbank entwickelt werden. Es gelten folgende Anforderungen:

* Jedes **Tier** gehört zu einer **Tiergattung** (z. B. Säugetier, Reptil).
* Jedes **Tier** wird von genau **einem Tierpfleger** betreut.
* Jeder **Tierpfleger** versorgt **mehrere Tiere**.
* Jedes **Tier** lebt in einer **Unterkunft**, häufig mit mehreren anderen Tieren.

**Vorgehen:**

1. Entitätstypen ermitteln: *Tier, Tiergattung, Tierpfleger, Unterkunft*
2. Beziehungen festlegen:

   * Tier ↔ Tiergattung
   * Tier ↔ Tierpfleger
   * Tier ↔ Unterkunft
3. Kardinalitäten bestimmen: **1:n** in allen Fällen.

**Ergebnis (vereinfachte Darstellung):**

```
Tierpfleger  —  versorgt  —<  Tier  >—  gehört zu  —  Tiergattung
                            |
                            >—  lebt in  —  Unterkunft
```

---

### 🩺 Beispielauftrag 2 – Arztpraxis

**Ausgangsdaten (Excel-Tabellen):**

| Patienten                                                  | Behandlungstermine                      |
| ---------------------------------------------------------- | --------------------------------------- |
| PatientenNr, Name, Vorname, Geburtsdatum, Ort, Straße, PLZ | TerminNr, Datum, Uhrzeit, Name, Vorname |

**Ziel:** Erstellung eines ER-Modells.

**Schritte:**

1. Entitätstypen: *Patient*, *Behandlungstermin*
2. Attribute: z. B. *PatientenNr*, *Name*, *Geburtsdatum*, *Datum*, *Uhrzeit*
3. Beziehung: *Patient – hat – Behandlungstermin*
4. Kardinalität: **1:n** (ein Patient kann mehrere Termine haben, ein Termin gehört zu genau einem Patienten)

**Darstellung (vereinfacht):**

```
Patient (PatientenNr, Name, Vorname, Geburtsdatum, PLZ, Ort)
    |
    |  1:n
    ▼
Behandlungstermin (TerminNr, Datum, Uhrzeit)
```

---

## 🧾 Kompetenzziele und Erkenntnisse

* Das **ER-Modell** dient als **Verständigungsgrundlage** zwischen Anwender und Entwickler.
* Es zeigt **Entitätstypen**, **Attribute** und **Beziehungen** in strukturierter Form.
* **Kardinalitäten** sind zentral für die spätere Umsetzung im relationalen Modell.
* **m:n-Beziehungen** werden im späteren Schritt durch **Zwischentabellen** aufgelöst.
* Das Modell ermöglicht eine **fehlerfreie und redundanzarme Datenbankplanung**.

---
