# üß© 5.7 Die Verwaltung von Daten mithilfe von Datenbanken planen und umsetzen [Seite: 570]

Relationale **Datenbanken** dienen der strukturierten und sicheren Speicherung gro√üer Datenmengen. Sie l√∂sen Probleme der **Dateiverwaltung** wie Datenredundanz und Dateninkonsistenz. Moderne **Datenbanksysteme** bestehen aus einer **Datenbasis** und einem **Datenbankmanagementsystem (DBMS)**, die gemeinsam f√ºr Effizienz, Sicherheit und Mehrbenutzerzugriff sorgen.

---

## üß† 5.7.1 Datenbanksysteme beschreiben

### Bestandteile eines Datenbanksystems

| Begriff                              | Definition                                                                                                                               |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------- |
| **Datenbasis**                       | Strukturierte Sammlung von Daten, grafisch meist als Zylinder dargestellt.                                                               |
| **Datenbankmanagementsystem (DBMS)** | Organisiert die Datenspeicherung, Mehrbenutzerzugriff, Sicherheit und Datenschutz. Beispiele: *MS Access, MySQL, Oracle DB, PostgreSQL*. |

### ANSI/SPARC-Architektur

Dreischichtige Architektur zur **Entkopplung von Anwendung und Datenspeicherung**:

| Ebene                      | Beschreibung                                                                       |
| -------------------------- | ---------------------------------------------------------------------------------- |
| **Externes Schema**        | Sicht der Benutzer; definiert Berechtigungen und unterschiedliche Sichten.         |
| **Konzeptionelles Schema** | Modelliert logische Datenstrukturen und Beziehungen (*Entities*, *Relationships*). |
| **Internes Schema**        | Regelt die physische Speicherung und Zugriffsverfahren (z. B. Hashing, B-B√§ume).   |

### Betriebskonzepte von DBMS

| Typ                         | Beschreibung                                                                    |
| --------------------------- | ------------------------------------------------------------------------------- |
| **Stand-Alone-Datenbank**   | Daten und Programm lokal auf einer Workstation; keine Mehrbenutzerfunktion.     |
| **File-Share-Datenbank**    | Daten liegen auf Server, Programm auf Clients ‚Äì Zugriff √ºber lokale Engine.     |
| **Client-Server-Datenbank** | Datenbankserver verwaltet zentral Daten, Clients greifen √ºber Schnittstelle zu. |

### Datenmodelle

| Typ                           | Beschreibung                                       | Beispiele      |
| ----------------------------- | -------------------------------------------------- | -------------- |
| **Hierarchisches Modell**     | Baumstruktur, jeder Datensatz hat einen Vorg√§nger. | IMS DB         |
| **Netzwerkmodell**            | m:n-Beziehungen m√∂glich.                           | -              |
| **Relationales Modell**       | Tabellen mit Beziehungen; Standardmodell.          | MySQL, MS SQL  |
| **Objektorientiertes Modell** | Daten + Methoden als Objekte.                      | db4o           |
| **Objektrelationales Modell** | Kombination aus relational und objektorientiert.   | PostgreSQL     |
| **NoSQL-Modelle**             | F√ºr gro√üe, unstrukturierte Datenmengen.            | MongoDB, Neo4j |

#### NoSQL-Typen

* **Key-Value-Datenbanken** (z. B. Amazon Dynamo)
* **Dokumentenorientierte Datenbanken** (z. B. MongoDB)
* **Graphdatenbanken** (z. B. Neo4j)
* **Spaltenorientierte Datenbanken** (z. B. Cassandra)

---

## üß© 5.7.2 Daten und deren Beziehungen mithilfe eines ER-Modells beschreiben

Das **Entity-Relationship-Modell (ERM)** dient der grafischen Darstellung von Daten und ihren Beziehungen. Es wird zur **Datenanalyse und -planung** verwendet.

### Grundbegriffe

| Begriff                  | Definition                                               |
| ------------------------ | -------------------------------------------------------- |
| **Entit√§t**              | Einzelnes Objekt (z. B. Kunde Maier).                    |
| **Entit√§tstyp**          | Menge gleichartiger Entit√§ten (z. B. Person).            |
| **Attribut**             | Eigenschaft einer Entit√§t (z. B. Kundennummer).          |
| **Beziehung (Relation)** | Verbindung zwischen Entit√§tstypen (z. B. Kunde‚ÄìArtikel). |
| **Kardinalit√§t**         | Gibt Mengenverh√§ltnisse an: 1:1, 1:n, m:n.               |

### Beispielhafte Beziehungen

* **1:1** ‚Äì Mitarbeiter ‚Üî Personalakte
* **1:n** ‚Äì Geb√§ude ‚Üî R√§ume
* **m:n** ‚Äì Kunde ‚Üî Artikel

### Erstellung eines ER-Modells

1. **Ermittlung der Entit√§ten** (z. B. Tier, Tierpfleger, Unterkunft).
2. **Zuordnung von Beziehungen** (z. B. Pfleger versorgt Tiere).
3. **Festlegung der Kardinalit√§ten** (z. B. 1:n).

Ziel: Strukturierte Darstellung der Datenabh√§ngigkeiten als Grundlage f√ºr Datenbanken.

---

## üßÆ 5.7.3 Grundlagen des relationalen Datenmodells erl√§utern

Relationale Datenmodelle speichern Daten **in Tabellen (Relationen)**, die √ºber **Schl√ºssel** miteinander verkn√ºpft sind.

### Aufbau

| Begriff                  | Definition                                                             |
| ------------------------ | ---------------------------------------------------------------------- |
| **Tabelle (Relation)**   | Enth√§lt Spalten (Attribute) und Zeilen (Tupel).                        |
| **Prim√§rschl√ºssel (PK)** | Eindeutige Identifikation eines Datensatzes.                           |
| **Fremdschl√ºssel (FK)**  | Verweist auf PK einer anderen Tabelle zur Herstellung von Beziehungen. |

### Kardinalit√§ten

* **1:1** ‚Äì Eindeutige Zuordnung (z. B. Mitarbeiter ‚Üî Gehalt)
* **1:n** ‚Äì Eine Abteilung hat viele Mitarbeiter.
* **m:n** ‚Äì Realisiert √ºber Kreuztabelle (z. B. Mitarbeiter_Projekt).

### Wichtige Konzepte

| Begriff                      | Bedeutung                                                            |
| ---------------------------- | -------------------------------------------------------------------- |
| **Datenredundanz**           | Mehrfach gespeicherte Informationen; zu vermeiden.                   |
| **Datenkonsistenz**          | Widerspruchsfreie, korrekte Daten.                                   |
| **Referenzielle Integrit√§t** | Fremdschl√ºsselwerte m√ºssen in der referenzierten Tabelle existieren. |
| **Normalisierung**           | Reduziert Redundanz und Anomalien (1.‚Äì3. Normalform).                |

---

## üîÑ 5.7.4 ER-Modelle in relationale Datenmodelle √ºberf√ºhren

**Transformationsregeln:**

1. Jede **Entit√§t** ‚Üí eigene **Tabelle**.
2. **Prim√§rschl√ºssel** aus ER-Modell √ºbernehmen oder k√ºnstlich erzeugen.
3. **m:n-Beziehungen** ‚Üí eigene **Kreuztabelle** mit Fremdschl√ºsseln.
4. **1:n-Beziehungen** ‚Üí Fremdschl√ºssel in abh√§ngige Tabelle einf√ºgen.

Ergebnis: Strukturiertes relationales Datenmodell mit eindeutigen Beziehungen.

---

## üí¨ 5.7.5 Die Datenbanksprache SQL anwenden

**SQL (Structured Query Language)** ist die Standard-Sprache f√ºr relationale Datenbanken.

### SQL-Teile

| Kategorie                              | Aufgabe                       | Beispiele                      |
| -------------------------------------- | ----------------------------- | ------------------------------ |
| **DDL** (Data Definition Language)     | Tabellen definieren/ver√§ndern | CREATE, ALTER, DROP            |
| **DML** (Data Manipulation Language)   | Daten bearbeiten              | SELECT, INSERT, UPDATE, DELETE |
| **DCL** (Data Control Language)        | Zugriffsrechte                | GRANT, REVOKE                  |
| **TCL** (Transaction Control Language) | Transaktionen steuern         | COMMIT, ROLLBACK               |

### Grundlegende Befehle

* `CREATE TABLE` ‚Äì Tabelle anlegen
* `ALTER TABLE` ‚Äì Tabelle √§ndern
* `DROP TABLE` ‚Äì Tabelle l√∂schen
* `INSERT INTO` ‚Äì Datensatz hinzuf√ºgen
* `UPDATE ... WHERE ...` ‚Äì Daten √§ndern
* `DELETE FROM ... WHERE ...` ‚Äì Datens√§tze l√∂schen
* `SELECT ... FROM ...` ‚Äì Daten abfragen

### Wichtige SQL-Elemente

* **Operatoren:** `=`, `<`, `>`, `AND`, `OR`, `NOT`
* **Platzhalter:** `%`, `_`
* **Sortierung:** `ORDER BY` (ASC/DESC)
* **Aggregation:** `COUNT`, `SUM`, `AVG`, `MIN`, `MAX`
* **Gruppierung:** `GROUP BY`, `HAVING`
* **Verkn√ºpfungen:** `INNER JOIN`, `LEFT JOIN`, `RIGHT JOIN`, `FULL JOIN`

---

## üêç 5.7.6 Eine SQLite-Datenbank mit Python ansprechen

### Grundlagen

* **SQLite** ist in Python integriert (Modul: `sqlite3`).
* Speichert Daten in einer einzigen Datei, ben√∂tigt keinen Server.

### Vorgehen

1. **Verbindung herstellen:**

   ```python
   import sqlite3
   connection = sqlite3.connect("personenverwaltung.db")
   cursor = connection.cursor()
   ```
2. **SQL-Anweisung ausf√ºhren:**

   ```python
   cursor.execute("CREATE TABLE Person (PersonID INTEGER PRIMARY KEY, Name TEXT)")
   ```
3. **√Ñnderungen speichern:**

   ```python
   connection.commit()
   ```
4. **Verbindung schlie√üen:**

   ```python
   connection.close()
   ```

### Abfragen und Ausgeben

```python
cursor.execute("SELECT * FROM Person")
for datensatz in cursor:
    print(datensatz)
```

**Fazit:** Python erm√∂glicht mit wenigen Befehlen das Erstellen, Bef√ºllen und Abfragen von SQLite-Datenbanken.

---

‚úÖ **Gesamtziel von Abschnitt 5.7:**
Lernende sollen die **Planung, Modellierung und Umsetzung** von Datenbanken verstehen ‚Äì von der **Datenanalyse** √ºber das **ER-Modell** und **relationale Modell** bis hin zur **praktischen SQL-Anwendung** und **Python-Integration**.

---
