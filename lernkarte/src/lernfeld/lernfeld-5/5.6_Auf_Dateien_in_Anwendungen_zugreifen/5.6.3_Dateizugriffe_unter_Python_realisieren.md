# ğŸ 5.6.3 Dateizugriffe unter Python realisieren [Seite: 567]

Mit **Python** lassen sich Dateien Ã¶ffnen, lesen, schreiben und schlieÃŸen. Grundlage aller Dateioperationen sind **DatenstrÃ¶me (Streams)**, auch wenn sie im Programmcode nicht immer sichtbar sind. Dateien kÃ¶nnen sowohl im **Textmodus** als auch im **BinÃ¤rmodus** verarbeitet werden.

---

## âš™ï¸ Grundlegende Vorgehensweise

Jeder Dateizugriff folgt einem festen Ablauf:

1. **Datei Ã¶ffnen** â†’ VerknÃ¼pfung mit einem Stream herstellen
2. **Daten bearbeiten** â†’ Lesen oder Schreiben
3. **Datei schlieÃŸen** â†’ Stream schlieÃŸen

Das geschieht mit der eingebauten Funktion:

```python
open(dateiname, modus)
```

Diese Funktion Ã¶ffnet eine Datei in einem bestimmten **Modus** und gibt ein **Dateiobjekt** zurÃ¼ck.

---

## ğŸ“‹ Wichtige Ãœbergabeparameter von `open()`

| Parameter | Beschreibung                                                                                                            |
| --------- | ----------------------------------------------------------------------------------------------------------------------- |
| `r`       | **Read:** Ã–ffnet eine Datei zum Lesen (Standardmodus). Existiert die Datei nicht, wird ein Fehler ausgegeben.           |
| `a`       | **Append:** Ã–ffnet eine Datei zum Schreiben, um sie zu erweitern. Wird die Datei nicht gefunden, wird sie neu angelegt. |
| `w`       | **Write:** Ã–ffnet eine Datei zum Schreiben und Ã¼berschreibt ihren Inhalt. Existiert sie nicht, wird sie neu erstellt.   |
| `x`       | **Create:** Legt eine neue, leere Datei an. Existiert sie bereits, wird eine Fehlermeldung ausgegeben.                  |
| `+`       | Ã–ffnet eine Datei zum **Lesen und Schreiben**.                                                                          |
| `t`       | Ã–ffnet eine Datei im **Textmodus** (Standardeinstellung).                                                               |
| `b`       | Ã–ffnet eine Datei im **BinÃ¤rmodus**.                                                                                    |

Kombinationen sind mÃ¶glich, z. B. `open("daten.txt", "r+")` fÃ¼r Lesen **und** Schreiben.

---

## ğŸ“– (1) Lesen von Textdateien

Zum Lesen einer Datei wird sie mit `open()` im **Lesemodus (â€râ€œ) geÃ¶ffnet**.
Die Funktion liefert ein Dateiobjekt mit mehreren Methoden.

| Funktion      | Beschreibung                                                         |
| ------------- | -------------------------------------------------------------------- |
| `close()`     | SchlieÃŸt eine geÃ¶ffnete Datei.                                       |
| `read(n)`     | Liest **n Bytes** (oder die ganze Datei, wenn n fehlt).              |
| `readline(n)` | Liest **eine Zeile** der Datei (optional begrenzt durch n Bytes).    |
| `readlines()` | Liest **alle Zeilen** und gibt sie als **Liste von Strings** zurÃ¼ck. |

### ğŸ§© Beispiel: Lesen einer Textdatei

```python
import sys

try:
    file = open("textdatei_lesen.py", "r")
    text = file.read()
    print(text)
    file.close()
except IOError:
    print("Datei kann nicht geÃ¶ffnet werden.")
except:
    print("Es ist ein Fehler aufgetreten:", sys.exc_info()[0])
```

**ErlÃ¤uterung:**

* Die Datei wird geÃ¶ffnet und ihr Inhalt vollstÃ¤ndig gelesen.
* Danach wird sie wieder geschlossen.
* Fehler (z. B. fehlende Datei) werden Ã¼ber **`try-except`** abgefangen.

---

## âœï¸ (2) Schreiben von Textdateien

Zum Schreiben wird die Datei im **Schreibmodus (â€wâ€œ) geÃ¶ffnet**.
Existiert sie nicht, wird sie automatisch erstellt.

| Funktion            | Beschreibung                                                       |
| ------------------- | ------------------------------------------------------------------ |
| `close()`           | SchlieÃŸt die Datei.                                                |
| `write(text)`       | Schreibt den Ã¼bergebenen Text in die Datei.                        |
| `writelines(liste)` | Schreibt eine Liste von Strings in die Datei (ohne Zeilenumbruch). |

### ğŸ§© Beispiel: Schreiben einer Textdatei

```python
import sys

try:
    text = input("Bitte Text eingeben:\n")
    file = open("Beispiel.txt", "w")
    file.write(text)
    file.close()
    print("Datei wurde erfolgreich geschrieben.")
except IOError:
    print("Datei konnte nicht geÃ¶ffnet werden.")
except:
    print("Es ist ein Fehler aufgetreten:", sys.exc_info()[0])
```

**ErlÃ¤uterung:**

* Der Benutzer gibt einen Text ein.
* Der Text wird in die Datei **â€Beispiel.txtâ€œ** geschrieben.
* Das Programm gibt eine Erfolgsmeldung aus oder behandelt Ausnahmen.

---

## ğŸ’¡ Erweiterungen und ÃœbungsansÃ¤tze

* Benutzer soll den **Pfad** zur zu Ã¶ffnenden Datei eingeben kÃ¶nnen.
* Benutzer kann festlegen, **wie viele Zeilen** aus einer Datei angezeigt werden.
* Anpassung frÃ¼herer Programme, z. B. das **Temperaturprogramm aus Kapitel 5.5.6**, um:

  * Eingabedaten in einer **CSV-Datei** zu speichern,
  * sie wieder einzulesen und
  * weiterzuverarbeiten.
* Weitere Ãœbungen zum Lesen und Schreiben von **CSV-Dateien** befinden sich im Arbeitsbuch.

---

## ğŸ§  Kernaussagen

* **Streams** sind die Grundlage fÃ¼r Dateioperationen in Python.
* Dateien kÃ¶nnen im **Text- oder BinÃ¤rmodus** geÃ¶ffnet werden.
* Die Funktion **`open()`** erstellt den Zugriff, **`close()`** beendet ihn.
* **Fehlerbehandlung** erfolgt Ã¼ber `try-except`.
* Lesen erfolgt mit `read()`, `readline()`, `readlines()`.
* Schreiben erfolgt mit `write()` oder `writelines()`.
* **CSV-Dateien** sind ideal, um strukturierte Daten einfach zu speichern und wieder einzulesen.


---
