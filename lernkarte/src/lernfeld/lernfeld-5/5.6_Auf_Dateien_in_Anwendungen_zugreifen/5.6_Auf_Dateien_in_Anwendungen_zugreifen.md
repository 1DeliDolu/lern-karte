# üíæ 5.6 Auf Dateien in Anwendungen zugreifen [Seite: 561]

Programme k√∂nnen Daten einlesen, verarbeiten und ausgeben. Damit Daten **dauerhaft** erhalten bleiben, m√ºssen sie in **Dateien** auf **externen Datentr√§gern** gespeichert werden, da der Arbeitsspeicher fl√ºchtig ist. Externe Speicher wie **Festplatten**, **optische Datentr√§ger** oder **Flash-Speicher** bewahren Daten auch ohne Energiezufuhr.

---

## üìò 5.6.1 Dateien und Datenstr√∂me beschreiben

Ein **Datenstrom (Data Stream)** ist ein kontinuierlicher Fluss von Daten zwischen einer **Quelle** und einem **Ziel**.

* **Output-Stream**: ausgehender Datenstrom
* **Input-Stream**: eingehender Datenstrom

Betriebssysteme wie **Windows** und **Linux** unterst√ºtzen Datenstr√∂me im **Textmodus** (EOF-Zeichen) oder **Bin√§rmodus** (kompletter Inhalt).

| Stream-Art       | Beschreibung                                     |
| ---------------- | ------------------------------------------------ |
| **Bin√§r-Stream** | Folge von Bytes, f√ºr Menschen nicht lesbar       |
| **Text-Stream**  | Folge von Zeichen (Unicode), f√ºr Menschen lesbar |

Dateien sind **bearbeitbare Datenstr√∂me**, deren **Lese-/Schreibposition** frei gew√§hlt werden kann. Andere Str√∂me (z. B. Netzwerkverbindungen) erlauben das nicht.

### üóÇ Definition Datei

Eine **Datei** ist eine logisch zusammenh√§ngende, sequenziell angeordnete Datensammlung, die durch einen Namen identifizierbar und dauerhaft gespeichert ist.

Dateien besitzen eine **individuelle Struktur**, die das Lesen durch andere Programme erschweren kann. Daher existieren verschiedene **L√∂sungsans√§tze**:

1. **Typenbezeichnung im Dateinamen** (z. B. `daten.txt`, `projekt.docx`)
2. **Einheitliche Dateiformate** (z. B. CSV ‚Äì durch Trennzeichen getrennte Werte)
3. **Strukturbeschreibungssprachen** (z. B. XML, HTML)
4. **Datenbankanbindung** ‚Äì Entkopplung der Datenverwaltung von Programmen (Kap. 5.7)

---

## üß© 5.6.2 Dateiformate unterscheiden

Ein **Dateiformat** beschreibt die innere Struktur einer Datei, d. h. welche Datenarten enthalten sind und wie sie angeordnet sind. Nur wenn Programme diese Struktur kennen, k√∂nnen sie die Datei lesen.

| Begriff         | Definition                                                                                    |
| --------------- | --------------------------------------------------------------------------------------------- |
| **Dateiformat** | Legt fest, welche Daten erlaubt sind, wie sie abgelegt werden und welche Bedeutung sie haben. |

Dateiformate werden durch **Softwarehersteller** oder **Standardisierungsgremien** festgelegt:

* **Propriet√§r**: vom Hersteller definiert
* **Standardisiert**: f√ºr plattform√ºbergreifenden Datenaustausch

Die **Dateiendung (File Extension)** kennzeichnet das Format (z. B. `.pdf`, `.jpg`, `.mp3`).

### üé• (1) Videoformate

| Endung                  | Beschreibung                                                          |
| ----------------------- | --------------------------------------------------------------------- |
| `.mpg` / `.mpeg`        | MPEG-2: verlustbehaftete Video- und Audiokompression                  |
| `.mp4`                  | MPEG-4: hohe Qualit√§t bei geringer Gr√∂√üe, unterst√ºtzt 3D und VRML     |
| `.mov`                  | QuickTime (Apple): Multimedia-Framework                               |
| `.mkv`                  | Matroska: universelles Containerformat                                |
| `.avi`                  | Audio Video Interleave (Microsoft): synchrone Audio-/Video-Wiedergabe |
| `.3gp`, `.3g2`, `.3gpp` | Formate f√ºr mobile Ger√§te (3G/4G)                                     |

### üéµ (2) Audioformate

**Verlustfreie Formate** (keine Informationsverluste, 25‚Äì70 % Kompression):

| Endung         | Beschreibung                               |
| -------------- | ------------------------------------------ |
| `.flac`        | Free Lossless Audio Codec (frei verf√ºgbar) |
| `.wv` / `.wvc` | WavPack, quelloffenes Format               |

**Verlustbehaftete Formate** (komprimiert durch Weglassen von Daten):

| Endung           | Beschreibung                                       |
| ---------------- | -------------------------------------------------- |
| `.mp3`           | Psychoakustisches Verfahren, starke Datenreduktion |
| `.aiff` / `.aif` | Standard-Apple-Audioformat                         |
| `.wav`           | Microsoft Wave Format, plattform√ºbergreifend       |

### üìù (3) Textformate

| Endung           | Beschreibung                                              |
| ---------------- | --------------------------------------------------------- |
| `.txt`           | Reiner Text ohne Formatierungen                           |
| `.rtf`           | Rich Text Format, mit Formatierungen (Fett, Kursiv, etc.) |
| `.pdf`           | Portable Document Format (Adobe, plattformunabh√§ngig)     |
| `.doc` / `.docx` | Microsoft Word-Standardformat                             |

### üñºÔ∏è (4) Grafikformate

Unterscheidung zwischen **Pixel-** und **Vektorformaten**:

* **Pixelorientiert**: speichern einzelne Bildpunkte, nicht skalierbar (Fotos)
* **Vektororientiert**: speichern geometrische Formen, verlustfrei skalierbar (CAD, Druck)

| Endung           | Beschreibung                                           |
| ---------------- | ------------------------------------------------------ |
| `.bmp`           | Bitmap (Microsoft), schwache Kompression               |
| `.gif`           | Verlustfrei, unterst√ºtzt Animationen                   |
| `.jpg` / `.jpeg` | Verlustbehaftet, weit verbreitet f√ºr Fotos             |
| `.psd`           | Photoshop-Format, speichert Ebenen und Kan√§le          |
| `.tif` / `.tiff` | Tagged Image File Format, Druckvorstufe, CMYK-Farbraum |

---

## üêç 5.6.3 Dateizugriffe unter Python realisieren

Python erm√∂glicht das **Lesen** und **Schreiben** von Dateien √ºber **Streams** im **Text- oder Bin√§rmodus**.

### üîß Grundlegendes Vorgehen

1. **Datei √∂ffnen** (Stream herstellen)
2. **Daten lesen oder schreiben**
3. **Datei schlie√üen**

Funktion:

```python
open(dateiname, modus)
```

| Parameter | Beschreibung             |
| --------- | ------------------------ |
| `r`       | Lesen                    |
| `a`       | Anh√§ngen                 |
| `w`       | Schreiben (√ºberschreibt) |
| `x`       | Neue Datei anlegen       |
| `+`       | Lesen und Schreiben      |
| `t`       | Textmodus (Standard)     |
| `b`       | Bin√§rmodus               |

---

### üìñ (1) Lesen von Textdateien

Wichtige Funktionen eines Dateiobjekts:

| Funktion      | Beschreibung                    |
| ------------- | ------------------------------- |
| `close()`     | Datei schlie√üen                 |
| `read(n)`     | Liest n Bytes oder ganze Datei  |
| `readline(n)` | Liest eine Zeile                |
| `readlines()` | Liest alle Zeilen in eine Liste |

**Beispiel:**

```python
try:
    file = open("textdatei_lesen.py", "r")
    text = file.read()
    print(text)
    file.close()
except IOError:
    print("Datei kann nicht ge√∂ffnet werden.")
```

---

### ‚úçÔ∏è (2) Schreiben von Textdateien

Wichtige Funktionen:

| Funktion            | Beschreibung               |
| ------------------- | -------------------------- |
| `close()`           | Datei schlie√üen            |
| `write(text)`       | Schreibt Text in Datei     |
| `writelines(liste)` | Schreibt Liste von Strings |

**Beispiel:**

```python
try:
    text = input("Bitte Text eingeben:\n")
    file = open("Beispiel.txt", "w")
    file.write(text)
    file.close()
    print("Datei erfolgreich geschrieben.")
except IOError:
    print("Datei konnte nicht ge√∂ffnet werden.")
```

**Erweiterungen:**

* Benutzer kann Pfad oder Zeilenanzahl eingeben
* Daten (z. B. Temperaturen) k√∂nnen als **CSV-Datei** gespeichert und wieder eingelesen werden

---

### üß† Zusammenfassung der Kernpunkte

* Daten m√ºssen **extern gespeichert** werden, um dauerhaft erhalten zu bleiben.
* **Dateien** und **Datenstr√∂me** sind zentrale Konzepte der Datenverwaltung.
* **Dateiformate** definieren Struktur und Bedeutung der gespeicherten Daten.
* **Python** nutzt die Funktion `open()` zum Datei-Zugriff (Lesen, Schreiben, Anh√§ngen).
* **Text-** und **Bin√§rmodus** bestimmen die Art der Datenverarbeitung.

---

## [N√§chstes Thema](./5.6.1_Dateien_und_Datenstroeme_beschreiben.md)